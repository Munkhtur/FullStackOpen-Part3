{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","searchTerm","handleSearch","value","onChange","PersonForm","handleSubmit","handleChange","handleNumber","newName","newNumber","onSubmit","type","Persons","personToShow","handleClick","map","person","key","name","number","onClick","id","getAll","a","req","axios","get","res","data","create","newObject","post","update","put","remove","delete","Notification","notification","className","message","App","useEffect","then","setPersons","catch","error","console","log","useState","persons","setNewName","setNewNumber","setSearchTerm","showAll","setShowAll","setNotification","notifyWith","setTimeout","filter","toLocaleLowerCase","e","target","some","length","preventDefault","newPerson","existing","window","confirm","updatePerson","concat","personToDelete","find","p","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3c89c2b5.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = ({ searchTerm, handleSearch }) => {\r\n  return (\r\n    <div>\r\n      <div>\r\n        Filter shown\r\n        <input value={searchTerm} onChange={handleSearch} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from 'react';\r\n\r\nconst PersonForm = ({\r\n  handleSubmit,\r\n  handleChange,\r\n  handleNumber,\r\n  newName,\r\n  newNumber,\r\n}) => {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div>\r\n        name: <input value={newName} onChange={handleChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={handleNumber} />\r\n      </div>\r\n      <div>\r\n        <button type='submit'>add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from 'react';\r\n\r\nconst Persons = ({ personToShow, handleClick }) => {\r\n  return (\r\n    <div>\r\n      {personToShow.map((person) => (\r\n        <li key={person.name}>\r\n          {person.name} {person.number}\r\n          <button onClick={() => handleClick(person.id)}>delete</button>\r\n        </li>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Persons;\r\n","import axios from 'axios';\r\nconst base_url = '/api/persons';\r\n\r\nexport const getAll = async () => {\r\n  const req = axios.get(base_url);\r\n  const res = await req;\r\n  return res.data;\r\n};\r\n\r\nexport const create = async (newObject) => {\r\n  const res = await axios.post(base_url, newObject);\r\n  return res.data;\r\n};\r\n\r\nexport const update = async (id, newObject) => {\r\n  const res = await axios.put(`${base_url}/${id}`, newObject);\r\n  return res.data;\r\n};\r\n\r\nexport const remove = async (id) => {\r\n  const res = await axios.delete(`${base_url}/${id}`);\r\n  return res.data;\r\n};\r\n","import React from 'react';\r\n\r\nconst Notification = ({ notification }) => {\r\n  if (notification === null) {\r\n    return null;\r\n  }\r\n  return <div className={notification.type}>{notification.message}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from 'react';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport { getAll, create, update, remove } from './services/persons';\nimport Notification from './components/Notification';\nimport './App.css';\n\nconst App = () => {\n  useEffect(() => {\n    getAll()\n      .then((data) => {\n        setPersons(data);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }, []);\n\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [showAll, setShowAll] = useState(true);\n  const [notification, setNotification] = useState(null);\n\n  const notifyWith = (message, type = 'success') => {\n    setNotification({ message, type });\n    setTimeout(() => {\n      setNotification(null);\n    }, 5000);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const newPerson = {\n      name: newName,\n      number: newNumber,\n    };\n\n    const result = persons.some(\n      (person) =>\n        person.name.toLocaleLowerCase() === newName.toLocaleLowerCase()\n    );\n    if (result) {\n      const existing = persons.filter(\n        (person) =>\n          person.name.toLocaleLowerCase() === newName.toLocaleLowerCase()\n      );\n      const answer = window.confirm(\n        `${existing[0].name} already exist, replace the number? `\n      );\n      if (answer) {\n        const id = existing[0].id;\n        const updatePerson = { ...existing[0], number: newNumber };\n        update(id, updatePerson)\n          .then((data) => {\n            setPersons(\n              persons.map((person) => (person.id !== id ? person : data))\n            );\n            notifyWith(`${updatePerson.name} is updated`);\n            setNewName('');\n            setNewNumber('');\n          })\n          .catch((error) => {\n            notifyWith(`${error} occured`, 'error');\n          });\n      }\n    } else {\n      create(newPerson)\n        .then((data) => {\n          setPersons(persons.concat(data));\n          notifyWith(`${newPerson.name} is created`);\n        })\n        .catch((error) => {\n          notifyWith(`${error} occured`, 'error');\n        });\n      setNewName('');\n      setNewNumber('');\n    }\n  };\n  const handleClick = (id) => {\n    const personToDelete = persons.find((p) => p.id === id);\n    const answer = window.confirm(`Delete ${personToDelete.name} ?`);\n    if (answer) {\n      remove(id)\n        .then((data) => {\n          setPersons(persons.filter((person) => person.id !== id));\n          notifyWith(`${personToDelete.name} is deleted`);\n          console.log(data);\n        })\n        .catch((error) => {\n          notifyWith(`${personToDelete.name} could not be found`, 'error');\n        });\n    }\n  };\n\n  const handleChange = (e) => {\n    setNewName(e.target.value);\n  };\n  const handleNumber = (e) => {\n    setNewNumber(e.target.value);\n  };\n\n  const handleSearch = (e) => {\n    setSearchTerm(e.target.value);\n    if (\n      persons.some(\n        (person) =>\n          person.name.toLocaleLowerCase() === e.target.value.toLocaleLowerCase()\n      )\n    ) {\n      setShowAll(false);\n    }\n    if (searchTerm.length <= 1) {\n      setShowAll(true);\n    }\n  };\n\n  const personToShow = showAll\n    ? persons\n    : persons.filter(\n        (person) =>\n          person.name.toLocaleLowerCase() === searchTerm.toLocaleLowerCase()\n      );\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notification={notification} />\n      <Filter searchTerm={searchTerm} handleSearch={handleSearch} />\n      <h3>Add new contact</h3>\n      <PersonForm\n        handleSubmit={handleSubmit}\n        handleChange={handleChange}\n        handleNumber={handleNumber}\n        newName={newName}\n        newNumber={newNumber}\n      />\n      <h2>Numbers</h2>\n      <Persons personToShow={personToShow} handleClick={handleClick} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}