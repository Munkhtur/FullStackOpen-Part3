{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","searchTerm","handleSearch","value","onChange","PersonForm","handleSubmit","handleChange","handleNumber","newName","newNumber","onSubmit","type","Persons","personToShow","handleClick","map","person","key","name","number","onClick","id","base_url","getAll","a","req","axios","get","res","data","getOne","create","newObject","post","update","put","remove","delete","Notification","notification","className","message","App","useEffect","then","setPersons","catch","error","console","log","useState","persons","setNewName","setNewNumber","setSearchTerm","showAll","setShowAll","setNotification","notifyWith","setTimeout","filter","toLocaleLowerCase","e","target","some","length","preventDefault","newPerson","window","confirm","updatedperson","temp","concat","response","personToDelete","find","p","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ff8682f9.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = ({ searchTerm, handleSearch }) => {\r\n  return (\r\n    <div>\r\n      <div>\r\n        Filter shown\r\n        <input value={searchTerm} onChange={handleSearch} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from 'react';\r\n\r\nconst PersonForm = ({\r\n  handleSubmit,\r\n  handleChange,\r\n  handleNumber,\r\n  newName,\r\n  newNumber,\r\n}) => {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div>\r\n        name: <input value={newName} onChange={handleChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={handleNumber} />\r\n      </div>\r\n      <div>\r\n        <button type='submit'>add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from 'react';\r\n\r\nconst Persons = ({ personToShow, handleClick }) => {\r\n  return (\r\n    <div>\r\n      {personToShow.map((person) => (\r\n        <li key={person.name}>\r\n          {person.name} {person.number}\r\n          <button onClick={() => handleClick(person.id)}>delete</button>\r\n        </li>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Persons;\r\n","import axios from 'axios';\r\nconst base_url = '/api/persons';\r\n\r\nexport const getAll = async () => {\r\n  const req = axios.get(base_url);\r\n  const res = await req;\r\n  return res.data;\r\n};\r\nexport const getOne = async (name) => {\r\n  const res = await axios.get(`${base_url}/name/${name}`);\r\n  return res.data;\r\n};\r\n\r\nexport const create = async (newObject) => {\r\n  const res = await axios.post(base_url, newObject);\r\n  return res.data;\r\n};\r\n\r\nexport const update = async (id, newObject) => {\r\n  const res = await axios.put(`${base_url}/${id}`, newObject);\r\n  return res.data;\r\n};\r\n\r\nexport const remove = async (id) => {\r\n  const res = await axios.delete(`${base_url}/${id}`);\r\n  return res.data;\r\n};\r\n","import React from 'react';\r\n\r\nconst Notification = ({ notification }) => {\r\n  if (notification === null) {\r\n    return null;\r\n  }\r\n  return <div className={notification.type}>{notification.message}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from 'react';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport { getAll, create, update, remove, getOne } from './services/persons';\nimport Notification from './components/Notification';\nimport './App.css';\n\nconst App = () => {\n  useEffect(() => {\n    getAll()\n      .then((data) => {\n        setPersons(data);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }, []);\n\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [showAll, setShowAll] = useState(true);\n  const [notification, setNotification] = useState(null);\n\n  const notifyWith = (message, type = 'success') => {\n    setNotification({ message, type });\n    setTimeout(() => {\n      setNotification(null);\n    }, 5000);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const newPerson = {\n      name: newName,\n      number: newNumber,\n    };\n\n    const result = persons.some(\n      (person) =>\n        person.name.toLocaleLowerCase() === newName.toLocaleLowerCase()\n    );\n    if (result) {\n      getOne(newName).then((data) => {\n        if (data) {\n          const answer = window.confirm(\n            `${newName} already exist, replace the number? `\n          );\n          if (answer) {\n            update(data.id, newPerson)\n              .then((updatedperson) => {\n                const temp = persons.filter((person) => {\n                  return person.id !== data.id;\n                });\n                console.log(temp);\n                setPersons(temp);\n                setPersons(persons.concat(updatedperson));\n                notifyWith(`${newPerson.name} is updated`);\n              })\n              .catch((error) => {\n                notifyWith(`${error} occured`, 'error');\n                console.log(error.response.data);\n              });\n            setNewName('');\n            setNewNumber('');\n          }\n        }\n      });\n    } else {\n      create(newPerson)\n        .then((data) => {\n          setPersons(persons.concat(data));\n          notifyWith(`${newPerson.name} is created`);\n        })\n        .catch((error) => {\n          notifyWith(`${error.response.data.error}`, 'error');\n          console.log(error.response.data.error);\n        });\n      setNewName('');\n      setNewNumber('');\n    }\n  };\n  const handleClick = (id) => {\n    const personToDelete = persons.find((p) => p.id === id);\n    const answer = window.confirm(`Delete ${personToDelete.name} ?`);\n    if (answer) {\n      remove(id)\n        .then((data) => {\n          setPersons(persons.filter((person) => person.id !== id));\n          notifyWith(`${personToDelete.name} is deleted`);\n          console.log(data);\n        })\n        .catch((error) => {\n          notifyWith(`${personToDelete.name} could not be found`, 'error');\n        });\n    }\n  };\n\n  const handleChange = (e) => {\n    setNewName(e.target.value);\n  };\n  const handleNumber = (e) => {\n    setNewNumber(e.target.value);\n  };\n\n  const handleSearch = (e) => {\n    setSearchTerm(e.target.value);\n    if (\n      persons.some(\n        (person) =>\n          person.name.toLocaleLowerCase() === e.target.value.toLocaleLowerCase()\n      )\n    ) {\n      setShowAll(false);\n    }\n    if (searchTerm.length <= 1) {\n      setShowAll(true);\n    }\n  };\n\n  const personToShow = showAll\n    ? persons\n    : persons.filter(\n        (person) =>\n          person.name.toLocaleLowerCase() === searchTerm.toLocaleLowerCase()\n      );\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notification={notification} />\n      <Filter searchTerm={searchTerm} handleSearch={handleSearch} />\n      <h3>Add new contact</h3>\n      <PersonForm\n        handleSubmit={handleSubmit}\n        handleChange={handleChange}\n        handleNumber={handleNumber}\n        newName={newName}\n        newNumber={newNumber}\n      />\n      <h2>Numbers</h2>\n      <Persons personToShow={personToShow} handleClick={handleClick} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}